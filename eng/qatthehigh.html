<!DOCTYPE html>
<html lang="or">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Practice mo parikhya sathi</title>

<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Oriya:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
:root {
    --soft: linear-gradient(120deg,#ff6a00,#ff2e63);
    --btn: #ff6a00;
    --btn-hover: #ff2e63;
    --correct: #00c851;
    --wrong: #ff4444;
    --attempted: #ff6a00;
    --not-attempted: #999;
    --review: #6a1b9a;
    --opt-hover: #ff2e63;
    --text-light: #fff;
}

body {
    background: #fff8fb;
    color: #222;
    text-align: center;
    line-height: 1.5;
    font-family: 'Noto Sans Oriya', sans-serif;
    font-size: 14px; /* üëà global font size */
}

header {
    background: linear-gradient(120deg,#ff6a00,#ff2e63);
    padding:5px;
    color:#fff;
    border-bottom-left-radius:50px;
    border-bottom-right-radius:50px;
    box-shadow:0 5px 18px rgba(0,0,0,.18);
}

h1 { font-size: 30px; margin-bottom: 5px; }

/* CARD STYLE for Question and Options */
.card {
    background:#fff;
    padding:18px;
    border-radius:16px;
    box-shadow:0 6px 20px rgba(0,0,0,.08);
    transition:.3s;
    text-align:center;
}
.card:hover {
    transform:translateY(-6px);
    box-shadow:0 10px 28px rgba(0,0,0,.13);
    background:linear-gradient(120deg,#ff6a00,#ff2e63);
    color:#fff;
}

/* Question Container */
.question {
    padding: 25px;
    margin: 20px auto;
    max-width: 700px;
}

.qtitle {
    font-size: 22px;
    font-weight: 700;
    margin-bottom: 20px;
}

/* Options */
.options {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.opt {
    background: #ffdde1;
    padding: 10px 0;
    border-radius: 12px;
    cursor: pointer;
    font-size: 20px;
    font-weight: 600;
    color: #333;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    transition: all 0.25s ease;
}

.opt:hover {
    background: var(--opt-hover);
    color: var(--text-light);
    transform: scale(1.03);
}

.opt.selected {
    background: var(--opt-hover);
    color: #fff;
    font-weight: 700;
    box-shadow: 0 0 10px rgba(255,46,99,0.6);
}

/* Controls */
.controls {
    display: flex;
    justify-content: center;
    gap: 12px;
    flex-wrap: wrap;
    margin-top: 18px;
}

.controls button {
    background: linear-gradient(120deg,#ff6a00,#ff2e63);
    color: #fff;
    border: none;
    padding: 10px 50px;
    border-radius: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    font-size: 16px;
}

.controls button:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 10px rgba(255,46,99,0.4);
}

/* Question Navigation Panel */
.question-status {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 8px;
    margin: 25px auto;
}

.q-circle {
    width: 38px;
    height: 38px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    cursor: pointer;
    color: #fff;
    transition: transform 0.2s;
}

.q-circle:hover { transform: scale(1.1); }

.q-attempted { background: var(--attempted); }
.q-notattempted { background: var(--not-attempted); }
.q-review { background: var(--review); }

/* Results */
#results {
    display: none;
    margin-top: 20px;
    text-align: left; /* üëà left align result text */
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
}

#answers {
    background: #fff1f7;
    padding: 20px;
    border-radius: 16px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.answer-block { border-bottom: 1px solid #ddd; padding: 12px 0; }
.right { color: var(--correct); font-weight: 700; }
.wrong { color: var(--wrong); font-weight: 700; }

/* Hide buttons when printing */
@media print {
  .controls button, #markBtn, #nextBtn, #prevBtn, #questionStatus { display: none !important; }
}

footer {
    text-align:center;
    background: linear-gradient(120deg,#ff6a00,#ff2e63);
    color:#fff;
    padding:15px;
    border-top-left-radius:50px;
    border-top-right-radius:50px;
    margin-top:40px;
}
h1 {
      margin: 0;
      font-size: 22px;
      animation: glow 6s infinite;
    }
    @keyframes glow {
      0% { color: #fff; text-shadow: 0 0 8px crimson; }
      25% { color: #ffeb3b; text-shadow: 0 0 10px green; }
      50% { color: #00bcd4; text-shadow: 0 0 10px blue; }
      75% { color: #e91e63; text-shadow: 0 0 10px purple; }
      100% { color: #fff; text-shadow: 0 0 8px crimson; }
    }
</style>
</head>

<body>

<header>
  <h1>üß† ‡¨Ö‡¨≠‡≠ç‡≠ü‡¨æ‡¨∏ ( At The High School )</h1>
  <p>üå∏üå∏ ‡¨®‡¨ø‡¨ú‡¨ï‡≠Å ‡¨®‡¨ø‡¨ú‡≠á ‡¨ú‡¨æ‡¨£‡¨ø‡¨¨‡¨æ, ‡¨∏‡¨Æ‡¨ó‡≠ç‡¨∞ ‡¨¨‡¨ø‡¨∂‡≠ç‡≠±‡¨ï‡≠Å ‡¨ú‡¨æ‡¨£‡¨ø‡¨¨‡¨æ üå∏üå∏</p>
</header>

<div id="quizContainer"></div>

<div class="controls" id="controlPanel">
  <button id="prevBtn">‚¨ÖÔ∏è ‡¨™‡≠Ç‡¨∞‡≠ç‡¨¨ ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨®</button>
  <button id="markBtn">‡¨™‡≠Å‡¨£‡¨ø ‡¨¶‡≠á‡¨ñ‡¨ø‡¨¨‡¨ø üîî</button>
  <button id="nextBtn">‡¨™‡¨∞ ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨® ‚û°Ô∏è</button>
</div>

<div class="question-status" id="questionStatus"></div>
<div class="status" id="status"></div>

<div id="results">
  <h2>üìä ‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨™‡¨∞‡≠Ä‡¨ï‡≠ç‡¨∑‡¨æ ‡¨´‡¨≥</h2>
  <p class="status" id="scoreText"></p>
  <div id="answers"></div>
  <div class="controls" style="justify-content:center; text-align:center;">
    <button onclick="printResult()">üñ®Ô∏è ‡¨™‡≠ç‡¨∞‡¨ø‡¨£‡≠ç‡¨ü ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å</button>
    <button onclick="shareResult()">üì§ ‡¨∏‡≠á‡≠ü‡¨æ‡¨∞ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å</button>
    <button onclick="retakeQuiz()">üîÅ ‡¨™‡≠Å‡¨£‡¨ø ‡¨Ü‡¨∞‡¨Æ‡≠ç‡¨≠ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å</button>
  </div>
</div>

<footer>¬© 2025 ‡¨Æ‡≠ã ‡¨™‡¨∞‡≠Ä‡¨ï‡≠ç‡¨∑‡¨æ ‡¨∏‡¨æ‡¨•‡¨ø | ‚ù§ ‡¨¶‡≠ç‡≠±‡¨æ‡¨∞‡¨æ ‡¨§‡¨ø‡¨Ü‡¨∞‡¨ø</footer>

<script>
// ‚úÖ Base question pool
const allQuestions = [
  {"question": "Gandhi was not regarded as ------ at the high school.", "options": ["an intelligent student", "a fool", "a clever student", "an obedient student"], "answer": 1},
  {"question": "Gandhi always enjoyed the ------ of teachers.", "options": ["blessings and affection of teachers", "love", "affection", "friendship"], "answer": 2},
  {"question": "Gandhi won prizes after he passed out of the ----- standard", "options": ["Third", "Fifth", "Sixth", "Second"], "answer": 3},
  {"question": "Dorabji Edulji Gimi was popular among the", "options": ["students", "boys", "girls", "teachers"], "answer": 3},
  {"question": "Mr. Gimi made --- and ---- compulsory for the boys of upper standard.", "options": ["Games and sport", "Sanskrit and Persian", "Gymnastics and cricket", "Yoga and meditation"], "answer": 1},
  {"question": "Gandhi had the false notion that ----- had nothing to do with education.", "options": ["Cricket", "Handwriting", "Sports", "Gymnastics"], "answer": 2},
  {"question": "Compulsory exercise came directly in the way of this service. What does the underlined expression mean?", "options": ["service towards his country", "service towards his father", "service towards his teacher", "service towards his family"], "answer": 1},
  {"question": "Where did Gandhi see the beautiful handwriting of lawyers and young men?", "options": ["England", "South Africa", "America", "New Delhi"], "answer": 1},
  {"question": "Bad handwriting should be regarded as a sign of", "options": ["Perfect", "Imperfect", "Incomplete education", "a bad student"], "answer": 2},
  {"question": "Won't you learn the language of your own religion? Which religion does it mean here?", "options": ["Vaishnava", "Buddhism", "Jainism", "Islam"], "answer": 2},
  {"question": "According to Gandhi, children should first be taught the art of ----- before learning to write.", "options": ["reading", "speaking", "listening", "drawing"], "answer": 3},
  {"question": "Which subject proved to be a harder task for Gandhi?", "options": ["Mathematics", "Geography", "Sanskrit", "Persian"], "answer": 3},
  {"question": "Gandhi very jealously guarded his", "options": ["Money", "Books", "Health", "Character"], "answer": 0},
  {"question": "Gandhi finally succeeded in getting the fine -----", "options": ["Paid", "Granted", "Remitted", "Cancelled"], "answer": 3},
  {"question": "There was a sort of ----- going on between Sanskrit and Persian teachers.", "options": ["Friendship", "Co-operation", "Rivalry", "Jealousy"], "answer": 3},
  {"question": "When Gandhi entered the sixth standard, he became ----", "options": ["delighted", "nervous", "disheartened", "excited"], "answer": 2},
  {"question": "There was nothing to memorize in", "options": ["Sanskrit", "Geometry", "Geography", "Persian"], "answer": 2},
  {"question": "Gandhi retained his false notion about handwriting till he went to --", "options": ["South Africa", "England", "America", "Gujarat"], "answer": 1},
  {"question": "Who was Gandhi's headmaster?", "options": ["Krishnashankar Pandya", "Dorabji Edulji Gimi", "Srimad Ramachandra", "Gopal Krishna Gokhale"], "answer": 1},
  {"question": "What did Gandhi think was needed for obtaining scholarships?", "options": ["his teachers' help", "Good luck", "his father's help", "his teachers' affection"], "answer": 0},
  {"question": "Gandhi was exempted --- fines.", "options": ["by", "from", "in", "on"], "answer": 2},
  {"question": "The soul is not mortal. A single word for 'not mortal' will be", "options": ["inmortal", "unmortal", "immortal", "dismortal"], "answer": 3},
  {"question": "The patient ---- (die) before the doctor came.", "options": ["died", "has died", "had died", "was died"], "answer": 2},
  {"question": "My mother is an --- lady.", "options": ["affection", "affectionate", "affectionately", "affectioned"], "answer": 1},
  {"question": "Mr. Gimi was a disciplinarian, a man of method and a good teacher. The underlined word means", "options": ["man of principle", "man of method", "strict person", "a person who makes others obey his order"], "answer": 3}
];

// ‚úÖ Shuffle helper function
function shuffleArray(arr){ return arr.sort(()=>Math.random()-0.5); }

// ‚úÖ Pick random 20 and shuffle their options
let quizData = shuffleArray(allQuestions).slice(0,20).map(q=>{
  const shuffledOpts = shuffleArray([...q.options]);
  const correctIndex = shuffledOpts.indexOf(q.options[q.answer]);
  return {...q, options: shuffledOpts, answer: correctIndex};
});

let currentIndex = 0;
let userAnswers = [];
let reviewMarks = [];
let startTime = Date.now();
let userName = "";

// Render question
function renderQuestion(index){
  const q = quizData[index];
  const container = document.getElementById("quizContainer");
  container.innerHTML = `
    <div class="card question">
      <div class="qtitle">${index+1}. ${q.question}</div>
      <div class="options">
        ${q.options.map((opt,i)=>`<div class="opt card" data-index="${i}">${opt}</div>`).join('')}
      </div>
    </div>
  `;
  document.getElementById("status").textContent = `‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨® ${index+1} / ${quizData.length}`;

  document.querySelectorAll(".opt").forEach(opt=>{
    opt.addEventListener("click", ()=>{
      document.querySelectorAll(".opt").forEach(o=>o.classList.remove("selected"));
      opt.classList.add("selected");
      userAnswers[index] = parseInt(opt.dataset.index);
      updateStatus();
    });
  });

  const nextBtn = document.getElementById("nextBtn");
  nextBtn.textContent = (index === quizData.length-1) ? "üì§ ‡¨´‡¨≥ ‡¨¶‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡≠Å (Submit)" : "‡¨™‡¨∞ ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨® ‚û°Ô∏è";
  updateCircles();
}

function updateCircles(){
  const panel = document.getElementById("questionStatus");
  panel.innerHTML = quizData.map((q,i)=>{
    let cls = "q-notattempted";
    if(reviewMarks[i]) cls = "q-review";
    else if(userAnswers[i] !== undefined) cls = "q-attempted";
    return `<div class="q-circle ${cls}" onclick="jumpTo(${i})">${i+1}</div>`;
  }).join('');
}

function jumpTo(i){ currentIndex = i; renderQuestion(currentIndex); }

document.getElementById("markBtn").addEventListener("click", ()=>{
  reviewMarks[currentIndex] = !reviewMarks[currentIndex];
  updateCircles();
});

document.getElementById("nextBtn").addEventListener("click", ()=>{
  if(currentIndex < quizData.length-1){
    currentIndex++;
    renderQuestion(currentIndex);
  } else {
    handleSubmit();
  }
});

document.getElementById("prevBtn").addEventListener("click", ()=>{
  if(currentIndex > 0){
    currentIndex--;
    renderQuestion(currentIndex);
  }
});

function updateStatus(){ updateCircles(); }

function handleSubmit(){
  const endTime = Date.now();
  const totalTimeSec = Math.floor((endTime - startTime)/1000);
  const minutes = Math.floor(totalTimeSec/60);
  const seconds = totalTimeSec % 60;

  let correct = 0;
  quizData.forEach((q,i)=>{ if(userAnswers[i]===q.answer) correct++; });
  const wrong = quizData.length - correct;
  const percent = Math.round((correct/quizData.length)*100);

  if(percent > 70){
    showCongratsPopup(correct, quizData.length, percent, minutes, seconds, wrong);
  } else {
    showResults(correct, percent, minutes, seconds, wrong);
  }
}

function showCongratsPopup(correct, total, percent, minutes, seconds, wrong){
  const popup = document.createElement("div");
  popup.style.position = "fixed";
  popup.style.top = 0;
  popup.style.left = 0;
  popup.style.width = "100%";
  popup.style.height = "100%";
  popup.style.background = "rgba(0,0,0,0.6)";
  popup.style.display = "flex";
  popup.style.justifyContent = "center";
  popup.style.alignItems = "center";
  popup.style.zIndex = "9999";

  popup.innerHTML = `
    <div style="background:#fff; padding:25px 30px; border-radius:16px; max-width:400px; text-align:center; box-shadow:0 6px 20px rgba(0,0,0,0.3); font-family:'Noto Sans Oriya',sans-serif;">
      <h2 style="color:#00c851;">üéâ ‡¨Ö‡¨≠‡¨ø‡¨®‡¨®‡≠ç‡¨¶‡¨®!</h2>
      <p>‡¨Ü‡¨™‡¨£ ‡¨â‡¨§‡≠ç‡¨ï‡≠É‡¨∑‡≠ç‡¨ü ‡¨´‡¨≥ ‡¨π‡¨æ‡¨∏‡¨≤ ‡¨ï‡¨∞‡¨ø‡¨õ‡¨®‡≠ç‡¨§‡¨ø!</p>
      <p><b>‡¨∏‡≠ç‡¨ï‡≠ã‡¨∞:</b> ${correct}/${total} (${percent}%)<br>
         ‚è±Ô∏è <b>‡¨∏‡¨Æ‡≠ü:</b> ${minutes} ‡¨Æ‡¨ø‡¨®‡¨ø‡¨ü‡≠ç ${seconds} ‡¨∏‡≠á‡¨ï‡≠á‡¨£‡≠ç‡¨°‡≠ç<br>
         ‚ùå <b>‡¨≠‡≠Å‡¨≤:</b> ${wrong}</p>
      <input type="text" id="userName" placeholder="‡¨®‡¨æ‡¨Æ ‡¨≤‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡≠Å" style="padding:8px 12px; border-radius:8px; border:1px solid #ccc; width:80%; font-size:16px;"><br><br>
      <button id="okBtn" style="background:linear-gradient(120deg,#ff6a00,#ff2e63); color:#fff; border:none; padding:10px 30px; border-radius:10px; font-weight:600; cursor:pointer;">‡¨†‡¨ø‡¨ï‡≠ç ‡¨Ö‡¨õ‡¨ø ‚úÖ</button>
    </div>
  `;
  document.body.appendChild(popup);

  document.getElementById("okBtn").addEventListener("click", ()=>{
    const name = document.getElementById("userName").value.trim();
    if(name) userName = name;
    document.body.removeChild(popup);
    showResults(correct, percent, minutes, seconds, wrong);
  });
}

function showResults(correct, percent, minutes, seconds, wrong){
  document.getElementById("scoreText").innerHTML = `
    <h3>üëè ${userName ? userName + ", " : ""}‡¨Ü‡¨™‡¨£‡¨ô‡≠ç‡¨ï ‡¨™‡¨∞‡≠Ä‡¨ï‡≠ç‡¨∑‡¨æ ‡¨´‡¨≥</h3>
    <b>‡¨∏‡≠ç‡¨ï‡≠ã‡¨∞:</b> ${correct}/${quizData.length} (${percent}%)<br>
    ‚è±Ô∏è <b>‡¨∏‡¨Æ‡≠ü ‡¨≤‡¨æ‡¨ó‡¨ø‡¨≤‡¨æ:</b> ${minutes} ‡¨Æ‡¨ø‡¨®‡¨ø‡¨ü‡≠ç ${seconds} ‡¨∏‡≠á‡¨ï‡≠á‡¨£‡≠ç‡¨°<br>
    ‚ùå <b>‡¨≠‡≠Å‡¨≤ ‡¨â‡¨§‡≠ç‡¨§‡¨∞:</b> ${wrong}
  `;

  const answersEl = document.getElementById("answers");
  answersEl.innerHTML = quizData.map((q,i)=>{
    const userAns = userAnswers[i] !== undefined ? q.options[userAnswers[i]] : "‚ùå ‡¨®‡¨æ‡¨π‡¨ø‡¨Å";
    const isRight = userAnswers[i]===q.answer ? "right" : "wrong";
    return `<div class="answer-block">
      <b>${i+1}. ${q.question}</b><br>
      ‚úÖ ‡¨†‡¨ø‡¨ï ‡¨â‡¨§‡≠ç‡¨§‡¨∞: <span class="right">${q.options[q.answer]}</span><br>
      üßç ‡¨Ü‡¨™‡¨£ ‡¨¶‡≠á‡¨á‡¨•‡¨ø‡¨¨‡¨æ ‡¨â‡¨§‡≠ç‡¨§‡¨∞: <span class="${isRight}">${userAns}</span>
    </div>`;
  }).join('');

  document.getElementById("quizContainer").style.display="none";
  document.getElementById("controlPanel").style.display="none";
  document.getElementById("questionStatus").style.display="none";
  document.getElementById("results").style.display="block";
}

function printResult(){window.print();}

// ‚úÖ Modified Share Button ‚Äî Odia text, no PDF
function shareResult(){
  const scoreText = document.getElementById("scoreText").textContent;
  const today = new Date();
  const dateStr = `${today.getDate()}/${today.getMonth()+1}/${today.getFullYear()}`;
  const shareMessage = 
`üéØ ‡¨Æ‡≠ã ‡¨™‡¨∞‡≠Ä‡¨ï‡≠ç‡¨∑‡¨æ ‡¨∏‡¨æ‡¨•‡¨ø ‡¨∞‡≠á ‡¨Æ‡≠Å‡¨Å ‡¨Æ‡≠ã ‡¨ú‡≠ç‡¨û‡¨æ‡¨® ‡¨™‡¨∞‡≠Ä‡¨ï‡≠ç‡¨∑‡¨æ ‡¨ï‡¨∞‡¨ø‡¨≤‡¨ø!

üë§ ‡¨®‡¨æ‡¨Æ: ${userName || "‡¨Ö‡¨ú‡¨£‡¨æ ‡¨Ö‡¨≠‡≠ç‡≠ü‡¨æ‡¨∏‡≠Ä"}
üìä ‡¨∏‡≠ç‡¨ï‡≠ã‡¨∞: ${scoreText.match(/\d+\/\d+/) || ""}
‚è±Ô∏è ‡¨∏‡¨Æ‡≠ü: ${scoreText.match(/\d+ ‡¨Æ‡¨ø‡¨®‡¨ø‡¨ü‡≠ç \d+ ‡¨∏‡≠á‡¨ï‡≠á‡¨£‡≠ç‡¨°/) || ""}
üìÖ ‡¨™‡¨∞‡≠Ä‡¨ï‡≠ç‡¨∑‡¨æ ‡¨§‡¨æ‡¨∞‡¨ø‡¨ñ: ${dateStr}

ü§© ‡¨Ü‡¨™‡¨£ ‡¨Æ‡¨ß‡≠ç‡≠ü ‡¨Ö‡¨Ç‡¨∂‡¨ó‡≠ç‡¨∞‡¨π‡¨£ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å!
üëâ https://moparikhyasathibseodisha.blogspot.com`;

  if(navigator.share){
    navigator.share({
      title:"‡¨Æ‡≠ã ‡¨™‡¨∞‡≠Ä‡¨ï‡≠ç‡¨∑‡¨æ ‡¨∏‡¨æ‡¨•‡¨ø - ‡¨™‡¨∞‡≠Ä‡¨ï‡≠ç‡¨∑‡¨æ ‡¨´‡¨≥",
      text:shareMessage,
      url:"https://moparikhyasathibseodiaha.blogspot.com"
    });
  } else {
    alert("Share this message:\n\n" + shareMessage);
  }
}

function retakeQuiz(){
  quizData = shuffleArray(allQuestions).slice(0,20).map(q=>{
    const shuffledOpts = shuffleArray([...q.options]);
    const correctIndex = shuffledOpts.indexOf(q.options[q.answer]);
    return {...q, options: shuffledOpts, answer: correctIndex};
  });
  currentIndex = 0;
  userAnswers = [];
  reviewMarks = [];
  startTime = Date.now();
  userName = "";
  document.getElementById("results").style.display="none";
  document.getElementById("quizContainer").style.display="block";
  document.getElementById("controlPanel").style.display="flex";
  document.getElementById("questionStatus").style.display="flex";
  renderQuestion(currentIndex);
}

// Initial render
renderQuestion(currentIndex);
</script>
</body>
</html>
